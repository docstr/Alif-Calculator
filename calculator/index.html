<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="" />

  <title>Светлая Версия Калькулятора</title>
  <link href="css/style.css" type="text/css" rel="stylesheet">
</head>
<!--  Created By Clonex O.Rakhmatova ^-^_^-^_^-^ MY OWN WEB SITE'S PORTFOLIO ^-^_^-^_^-^ http://oliya-cv.tj/  -->
<body>

  <div class="calculator">
    <div class="input" id="input"></div>
    <div class="buttons">                <!-- -_-_-_- Start Buttons For Calc -_-_-_- -->
      <div class="operators">
        <div>+</div>
        <div>-</div>
        <div>&times;</div>
        <div>&divide;</div>
      </div>               <!-- -_-_-_- Start entering numbers -_-_-_- -->
      <div class="leftPanel">
        <div class="numbers">
          <div>7</div>
          <div>8</div>
          <div>9</div>
        </div>
        <div class="numbers">
          <div>4</div>
          <div>5</div>
          <div>6</div>
        </div>
        <div class="numbers">
          <div>1</div>
          <div>2</div>
          <div>3</div>
        </div>
        <div class="numbers">
          <div>0</div>
          <div>.</div>
          <div id="clear">C</div>
        </div>             <!-- -_-_-_- End entering numbers -_-_-_- -->
      </div>
      <div class="equal" id="result">=</div>
    </div>                                       <!-- -_-_-_- Start Buttons For Calc -_-_-_- -->
  </div>


  <!-- -_-_-_- STARTING New Page - The Dark Page / Dark Mode -_-_-_- -->

  <div class="cont">
  <label class="switch">
    <a href="dark.html"> Next
<input type="checkbox" checked>
    <span class="slider round"></span>   
  </label>
</a>
  </div>

  <!-- -_-_-_- ENDING New Page - The Dark Page / Dark Mode -_-_-_- -->

  <!-- -_-_-_- STARTING JS SCRIPTS -_-_-_- -->
  <script>
    "use strict";

    var input = document.getElementById('input'),      /*-_-_-_- Returns an Element Object -_-_-_-*/
      number = document.querySelectorAll('.numbers div'),     /*-_-_-_- Document returns static elements of the document -_-_-_-*/
    operator = document.querySelectorAll('.operators div'),   
      result = document.getElementById('result'),          
      clear = document.getElementById('clear'),   
      resultDisplayed = false;                    


    for (var i = 0; i < number.length; i++) {
      number[i].addEventListener("click", function (e) {


        var currentString = input.innerHTML;
        var lastChar = currentString[currentString.length - 1];


        if (resultDisplayed === false) {
          input.innerHTML += e.target.innerHTML;
        } else if (resultDisplayed === true && lastChar === "+" || lastChar === "-" || lastChar === "×" || lastChar === "÷") {

          resultDisplayed = false;
          input.innerHTML += e.target.innerHTML;
        } else {

          resultDisplayed = false;
          input.innerHTML = "";
          input.innerHTML += e.target.innerHTML;
        }

      });
    }

/* -_-_-_-_- STARTING of Operations -_-_-_-_- */
    for (var i = 0; i < operator.length; i++) {
      operator[i].addEventListener("click", function (e) {


        var currentString = input.innerHTML;
        var lastChar = currentString[currentString.length - 1];


        if (lastChar === "+" || lastChar === "-" || lastChar === "×" || lastChar === "÷") {
          var newString = currentString.substring(0, currentString.length - 1) + e.target.innerHTML;
          input.innerHTML = newString;
        } else if (currentString.length == 0) {

          console.log("enter a number first");
        } else {

          input.innerHTML += e.target.innerHTML;
        }

      });
    }
/* -_-_-_-_- ENDING of Operations -_-_-_-_- */


/* -_-_-_-_- STARTING All Numerical Operations and Methods for Their Solution -_-_-_-_- */
    result.addEventListener("click", function () {

      var inputString = input.innerHTML;


      var numbers = inputString.split(/\+|\-|\×|\÷/g);


      var operators = inputString.replace(/[0-9]|\./g, "").split("");

      console.log(inputString);
      console.log(operators);
      console.log(numbers);
      console.log("----------------------------");



      var divide = operators.indexOf("÷");
      while (divide != -1) {
        numbers.splice(divide, 2, numbers[divide] / numbers[divide + 1]);
        operators.splice(divide, 1);
        divide = operators.indexOf("÷");
      }

      var multiply = operators.indexOf("×");
      while (multiply != -1) {
        numbers.splice(multiply, 2, numbers[multiply] * numbers[multiply + 1]);
        operators.splice(multiply, 1);
        multiply = operators.indexOf("×");
      }

      var subtract = operators.indexOf("-");
      while (subtract != -1) {
        numbers.splice(subtract, 2, numbers[subtract] - numbers[subtract + 1]);
        operators.splice(subtract, 1);
        subtract = operators.indexOf("-");
      }

      var add = operators.indexOf("+");
      while (add != -1) {

        numbers.splice(add, 2, parseFloat(numbers[add]) + parseFloat(numbers[add + 1]));
        operators.splice(add, 1);
        add = operators.indexOf("+");
      }

      input.innerHTML = numbers[0];

      resultDisplayed = true;
    });
    /* -_-_-_-_- ENDING All Numerical Operations and Methods for Their Solution -_-_-_-_- */

    clear.addEventListener("click", function () {
      input.innerHTML = "";    /* Input the Numbers*/
    })
  </script>
  <!-- -_-_-_- ENDING JS SCRIPTS -_-_-_- -->

<!--  Created By Clonex O.Rakhmatova ^-^_^-^_^-^ MY OWN WEB SITE'S PORTFOLIO ^-^_^-^_^-^ http://oliya-cv.tj/  -->

</body>

</html>